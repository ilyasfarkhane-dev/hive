"use client";
import React, { createContext, useContext, useEffect, useState } from "react";
import { useRouter } from "next/navigation";
import { I18nextProvider } from "react-i18next";
import i18n from "i18next";
import { initReactI18next } from "react-i18next";

interface I18nContextType {
  currentLanguage: string;
  changeLanguage: (lang: string) => void;
  isRTL: boolean;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

if (!i18n.isInitialized) {
  // Use a default language for SSR, will be updated on client
  const defaultLanguage = "en";

  i18n.use(initReactI18next).init({
    lng: defaultLanguage,
    fallbackLng: "en",
    defaultNS: "common",
    interpolation: { escapeValue: false },
    resources: {
      en: {
        common: {
          "saveAsPublished": "Save as Published",
          "saving": "Saving...",
          "saveAsDraft": "Save as Draft",
          "editProject": "Edit Project",
          "createNewProject": "Create New Project",
          "showing": "Showing",
          "manageAndTrackYourProjects": "Manage and track your projects",
          "noCrmProjectsYet": "No project proposals are available at this time",
          "noCrmProjectsDescription": "No projects yet",
          "of": "of",
          "home": "Home",
          "drafted": "Drafted",
          "published": "Published",
          "projects": "Projects",
          "maxMilestonesLimitReached": "Maximum milestones reached (5/5)",
          "projectHierarchy":"Project Hierarchy",
          "searchProjects": "Search Projects",
          "invalidEmailFormat": "Please enter a valid email address",
          "allProjects": "All Projects",
          projectTitle: "Project Title",
          siteTitle: "ICESCO",
          subtitle: "Member States Portal",
          title: "ICESCO Member States Portal",
          description: "ICESCO Member States Portal",
          titreprojet: "Project Title",
          login: "Login",
          password: "Password",
          signIn: "Sign in",
          signInToAccount:
            "Sign in to access your account and submit project proposals",
          enterLogin: "Enter your login",
          enterPassword: "Enter your password",
          invalidCredentials: "Invalid login or password",
          loginFailed: "Login failed",
          profile: "Profile",
          myProjects: "My Projects",
          logout: "Logout",
          menu: "Menu",
          language: "Language",
          english: "English",
          french: "Français",
          arabic: "العربية",
          loading: "Loading...",
          error: "Error",
          success: "Success",
          cancel: "Cancel",
          save: "Save",
          edit: "Edit",
          delete: "Delete",
          confirm: "Confirm",
          back: "Back",
          next: "Next",
          previous: "Previous",
          submit: "Submit",
          reset: "Reset",
          search: "Search",
          filter: "Filter",
          sort: "Sort",
          view: "View",
          download: "Download",
          brief: "Brief",
          upload: "Upload",
          close: "Close",
          open: "Open",
          yes: "Yes",
          no: "No",
          selectStrategicGoal: "Select Your Strategic Goal",
          selectStrategicGoalDesc:
            "Choose the goal that best represents your project's focus",
          selectStrategicPillar: "Select Your Strategic Pillar",
          selectStrategicPillarDesc:
            "Choose the pillar that aligns with your project's focus",
          selectService: "Select Your Service",
          "projectId": "Project ID",
          selectServiceDesc:
            
            "Choose the service that best matches your project's focus",
          selectStrategicSubService: "Select Your Strategic Sub-Service",
          selectStrategicSubServiceDesc:
            "Choose the sub-service that aligns with your selected service",
          reviewProjectProposal: "Review Your Project Proposal",
          reviewProjectProposalDesc:
            "Please review all the information before submitting",
          projectSubmittedSuccessfully: "Project Submitted Successfully",
          projectSubmittedDesc:
            "Your project proposal has been received and is being processed.",
          strategicGoal: "Strategic Goal",
          pillar: "Pillar",
          service: "Service",
          subService: "Sub-Service",
          projectDetails: "Project Details",
          projectOverview: "Project Overview",
          "milestoneNamePlaceholder": "Enter milestone name...",  
          "maxPartnersReached": "Maximum partners reached (5/5)",
          enterProjectDetails: "Enter your project details",
          titleHelp: "A clear, descriptive name for your project",
          titlePlaceholder: "Enter project title",
          projectBrief: "Project Brief",
          projectBriefPlaceholder: "Provide a concise summary...",
          problemStatement: "Problem Statement",
          problemStatementPlaceholder:
            "Describe the problem this project addresses...",
          rationaleImpact: "Rationale & Impact",
          beneficiaries: "Beneficiaries",
          "viewManageProjects": "View & Manage Projects",
          beneficiaryStudents: "Students",
          beneficiaryStudentsDesc: "Educational beneficiaries",
          beneficiaryTeachers: "Teachers",
          beneficiaryTeachersDesc: "Government officials",
          beneficiaryYouth: "Youth",
          beneficiaryYouthDesc: "Young people and communities",
          beneficiaryPublic: "General Public",
          beneficiaryPublicDesc: "Broader community impact",
          beneficiaryPolicymakers: "Policymakers",
          beneficiaryPolicymakersDesc: "Educational decision-makers",
          beneficiaryOther: "Other",
          beneficiaryOtherDesc: "Specify custom beneficiaries",
          otherBeneficiaryPlaceholder: "Please specify beneficiary",
          otherBeneficiaries: "Other Beneficiaries",
          implementationBudget: "Implementation & Budget",
          budgetLabel_icesco: "ICESCO",
          budgetLabel_member_state: "Member State",
          budgetLabel_sponsorship: "Sponsorship",
          amountPlaceholder: "0.00",
          currencyUSD: "USD",
          startDate: "Start Date",
          endDate: "End Date",
          budget: "Budget",
          frequency: "Frequency",
          projectFrequency: "Project Frequency",
          frequencySelect: "Select frequency",
          frequencyOneTime: "One-time",
          "One-time": "One-time",
          frequencyContinuous: "Continuous",
          frequencyDurationPlaceholder: "Duration (e.g., 1 year, 2 years...)",
          partnersCollaboration: "Partners & Collaboration",
          partners: "Partners",
          institutions: "Institutions",
          addPartnerPlaceholder: "Add partner organization...",
          projectScopeModality: "Project Scope & Modality",
          deliveryModality: "Delivery Modality",
          deliveryModalityHelp: "How will the project be conducted?",
          geographicScope: "Geographic Scope",
          geographicScopeHelp: "Project's geographic reach",
          conveningMethod: "Project Type",
          conveningMethodOther: "Other Project Type",
          projectType: "Project Type",
          projectTypeHelp: "What is the nature of your project?",
          projectTypeSelect: "Select the format of your project",
          typeTraining: "Training Program",
          typeWorkshop: "Workshop Series",
          typeConference: "Conference/Summit",
          typeCampaign: "Awareness Campaign",
          typeResearch: "Research Initiative",
          other: "Other",
          online: "Online",
          offline: "Offline",
          hybrid: "Hybrid",
          inPerson: "In-Person",
          projectTypeOtherPlaceholder: "Please specify the project format...",
          modalityPhysical: "Physical",
          modalityVirtual: "Virtual",
          modalityHybrid: "Hybrid",
          scopeNational: "National",
          "maxPartnersLimitReached": "Maximum of 5 partners allowed",
          scopeRegional: "Regional",
          scopeInternational: "International",
          monitoringEvaluation: "Monitoring & Evaluation",
          milestones: "Milestones",
          expectedOutputs: "Expected Outputs",
          kpis: "KPIs",
          contactInformation: "Contact Information",
          name: "Name",
          email: "Email",
          phone: "Phone",
          role: "Role",
          supportingDocuments: "Supporting Documents",
          comments: "Comments",
          optional: "(optional)",
          commentsHelp: "Add any relevant comments or feedback",
          commentsPlaceholder:
            "Add any additional comments or feedback...",
          submitProject: "Submit Project",
          submitNewProject: "Submit New Project",
          noDescription: "No description available",
          notSpecified: "Not specified",
          timeline: "Timeline",
          expectedImpact: "Expected Impact",
          impactDescription: "This project aims to create positive impact in the target community through innovative approaches and collaborative efforts.",
          projectInfo: "Project Info",
          "created": "Created",
          createdAt: "Created At",
          lastModified: "Last Modified",
          source: "Source",
          noSelections: "No selections yet",
          notSelected: "Not selected",
          notFound: "Not found",
          ok: "OK",
          memberStatesPortal: "Member States Portal",
          poweredBy: "Powered by",
          hiveFlow: "HiveFlow",
          takePartStrategy:
            "Take part in shaping the 2026–2030 Strategy by sharing your proposals",
          scrollDown: "Scroll Down",
          takePartInStrategy: "Take part in 2026 – 2030 Strategy",
          submitAndTrackProposal: "Submit and track your project proposal",
          yourSelections: "Your Selections",
          goal: "Goal",
          item: "Item",
          reviewSubmit: "Review & Submit",
          contactFullName: "Full Name",
          contactEmail: "Email",
          contactPhone: "Phone",
          contactFullNameHelp: "Enter the full name of the project contact person",
          contactEmailHelp: "Provide a valid email address",
          contactPhoneHelp: "Provide a valid phone number",
          contactFullNamePlaceholder: "Enter full name...",
          contactEmailPlaceholder: "Enter email address...",
          contactPhonePlaceholder: "Enter phone number...",
          contactRole: "Role",
          contactRoleHelp: "What is the role of this contact in the project?",
          contactRoleHelpPlaceholder: "Enter role...",
          milestonesHelp: "Define the key milestones for your project",
          milestonesNamePlaceholder: "Enter milestone name...",
          expectedOutputsDeliverables: "Expected Outputs / Deliverables",
          expectedOutputsDeliverablesHelp: "Describe the main deliverables of the project",
          expectedOutputsDeliverablesPlaceholder: "List expected outputs...",
          keyPerformanceIndicators: "Key Performance Indicators (KPIs)",
          keyPerformanceIndicatorsPlaceholder: "Enter KPI...",
          keyPerformanceIndicatorsHelp: "Define measurable indicators to track project success",
          pleaseFillAllRequiredFields: "Please fill all required fields",
          uploadDropOrBrowse: "Drop files here or click to browse",
          uploadTypesLimit: "PDF, DOCX, Images, PPTX up to 10MB each",
          vectorLine: "Vector line",
          logo: "Logo",
          memberState: "Member State",
          "sponsorship": "Sponsorship",
          "fillAllRequiredFields": "Please fill all required fields",
          "implementationBudgetDesc": "Enter implementation and budget details",
          "partnersCollaborationDesc": "Add collaborating institutions and partners",
          "projectScopeModalityDesc": "Define project type, delivery method, and scope",
          "monitoringEvaluationDesc": "Define project milestones and success metrics",
          "contactInformationDesc": "Enter primary contact person details",
          "supportingDocumentsDesc": "Upload relevant project documents and files",
          "commentsDesc": "Additional notes or comments about the project",
          "contactRolePlaceholder": "Enter your role",
          "noProjectsFound": "No projects found",
          "tryAdjustingFilters": "Try adjusting your search or filters",
          "noDocuments": "No documents available",
        },
      },
      fr: {
        common: {
          "saveAsPublished": "Enregistrer comme Publié",
          "noDocuments": "Aucun document disponible",
          "saving": "Enregistrement...",
          online: "En ligne",
          offline: "Hors ligne",
          hybrid: "Hybride",
          inPerson: "En personne",
          "saveAsDraft": "Enregistrer comme Brouillon",
          "editProject": "Modifier le Projet",
          "createNewProject": "Créer un nouveau projet",
          "manageAndTrackYourProjects": "Gérer et suivre vos projets",
          "tryAdjustingFilters": "Essayez d'ajuster votre recherche ou vos filtres",
          "noProjectsFound": "Aucun projet trouvé",
          "titreprojet": "Titre du Projet",
          "maxPartnersLimitReached": "Maximum de 5 partenaires autorisés",
          "created": "Créé",
          "drafted": "Brouillon",
          "showing": "Affichage",
          "of": "de",
          "published": "Publié",
          "projects": "Projets",
          "noCrmProjectsYet": "Aucun projet trouvé",
          "noCrmProjectsDescription": "Aucun projet trouvé",
          "invalidEmailFormat": "Veuillez entrer une adresse email valide",
          "home": "Accueil",
          "maxPartnersReached": "Nombre maximum de partenaires atteint (5/5)",
          "milestoneNamePlaceholder": "Entrez le nom de l'étape...",
          "maxMilestonesLimitReached": "Nombre maximum de jalons atteint (5/5)",
          "projectHierarchy":"Hierarchie du Projet",
          "searchProjects": "Rechercher des Projets",
          "allProjects": "Tous les Projets",
          "viewManageProjects": "Voir et Gérer les Projets",
          "One-time": "Une seule fois",
          "projectId": "ID du Projet",
          "commentsDesc": "Ajoutez des notes ou des commentaires supplémentaires sur le projet",
          "supportingDocumentsDesc": "Téléchargez les documents et fichiers pertinents du projet",
          "contactInformationDesc": "Entrez les détails de la personne de contact principale",
          "monitoringEvaluationDesc": "Définissez les jalons et les indicateurs de succès du projet",
          "projectScopeModalityDesc": "Définissez le type de projet, la méthode de livraison et le portée",
          projectTitle: "Titre du Projet",
          "partnersCollaborationDesc": "Ajoutez des institutions et partenaires collaborant",
          siteTitle: "ICESCO",
          subtitle: "Portail des États Membres",
          contactFullName: "Nom complet",
          keyPerformanceIndicatorsHelp: "Définissez des indicateurs mesurables pour suivre le succès du projet",
          brief: "Résumé",
          contactEmail: "Email",
          contactPhone: "Téléphone",
          contactFullNameHelp: "Saisissez le nom complet de la personne de contact du projet",
          contactEmailHelp: "Fournissez une adresse email valide",
          contactPhoneHelp: "Fournissez un numéro de téléphone valide",
          contactFullNamePlaceholder: "Entrez le nom complet...",
          contactEmailPlaceholder: "Entrez l'adresse email...",
          contactPhonePlaceholder: "Entrez le numéro de téléphone...",
          contactRole: "Rôle",
          contactRoleHelp: "Quel est le rôle de ce contact dans le projet ?",
          contactRoleHelpPlaceholder: "Entrez le rôle...",
          milestonesHelp: "Définissez les étapes clés de votre projet",
          milestonesNamePlaceholder: "Entrez le nom de l'étape...",
          expectedOutputsDeliverables: "Résultats attendus / Livrables",
          expectedOutputsDeliverablesHelp: "Décrivez les principaux livrables du projet",
          expectedOutputsDeliverablesPlaceholder: "Listez les résultats attendus...",
          keyPerformanceIndicators: "Indicateurs clés de performance (KPI)",
          keyPerformanceIndicatorsPlaceholder: "Entrez un KPI...",
          "fillAllRequiredFields": "Veuillez remplir tous les champs obligatoires",
          pleaseFillAllRequiredFields: "Veuillez remplir tous les champs obligatoires",
          uploadDropOrBrowse: "Déposez les fichiers ici ou cliquez pour parcourir",
          uploadTypesLimit: "PDF, DOCX, Images, PPTX jusqu'à 10 Mo chacun",

          title: "Portail des États Membres de l'ICESCO",
          description: "Portail des États Membres de l'ICESCO",
          login: "Connexion",
          password: "Mot de passe",
          signIn: "Se connecter",
          signInToAccount:
            "Connectez-vous pour accéder à votre compte et soumettre des propositions",
          enterLogin: "Entrez votre identifiant",
          enterPassword: "Entrez votre mot de passe",
          invalidCredentials: "Identifiant ou mot de passe invalide",
          loginFailed: "Échec de la connexion",
          profile: "Profil",
          myProjects: "Mes Projets",
          logout: "Déconnexion",
          menu: "Menu",
          language: "Langue",
          english: "English",
          french: "Français",
          arabic: "العربية",
          loading: "Chargement...",
          error: "Erreur",
          success: "Succès",
          cancel: "Annuler",
          save: "Enregistrer",
          edit: "Modifier",
          delete: "Supprimer",
          confirm: "Confirmer",
          back: "Retour",
          next: "Suivant",
          previous: "Précédent",
          submit: "Soumettre",
          reset: "Réinitialiser",
          search: "Rechercher",
          filter: "Filtrer",
          sort: "Trier",
          view: "Voir",
          download: "Télécharger",
          upload: "Téléverser",
          close: "Fermer",
          open: "Ouvrir",
          yes: "Oui",
          no: "Non",
          selectStrategicGoal: "Sélectionnez Votre Objectif Stratégique",
          selectStrategicGoalDesc:
            "Choisissez l'objectif qui représente le mieux votre projet",
          selectStrategicPillar: "Sélectionnez Votre Pilier Stratégique",
          selectStrategicPillarDesc:
            "Choisissez le pilier qui s'aligne le mieux avec votre projet",
          selectService: "Sélectionnez Votre Service",
          selectServiceDesc:
            "Choisissez le service qui correspond le mieux à votre projet",
          selectStrategicSubService: "Sélectionnez Votre Sous-Service Stratégique",
          selectStrategicSubServiceDesc:
            "Choisissez le sous-service qui s'aligne le mieux avec votre choix",
          reviewProjectProposal: "Examinez Votre Proposition de Projet",
          reviewProjectProposalDesc:
            "Veuillez examiner toutes les informations avant de soumettre",
          projectSubmittedSuccessfully: "Projet Soumis avec Succès",
          projectSubmittedDesc:
            "Votre proposition de projet a été reçue et est en cours de traitement.",
          strategicGoal: "Objectif Stratégique",
          pillar: "Pilier",
          service: "Service",
          subService: "Sous-Service",
          projectDetails: "Détails du Projet",
          projectOverview: "Aperçu du Projet",
          enterProjectDetails: "Entrez les détails de votre projet",
          titleHelp: "Titre clair et descriptif pour votre projet",
          titlePlaceholder: "Entrez le titre du projet",
          projectBrief: "Résumé du Projet",
          projectBriefPlaceholder: "Résumez brièvement votre projet...",
          problemStatement: "Énoncé du Problème",
          problemStatementPlaceholder:
            "Décrivez la problématique que votre projet résout...",
          rationaleImpact: "Justification et Impact",
          beneficiaries: "Bénéficiaires",
          beneficiaryStudents: "Étudiants",
          beneficiaryStudentsDesc: "Bénéficiaires éducatifs",
          beneficiaryTeachers: "Enseignants",
          beneficiaryTeachersDesc: "Responsables institutionnels",
          beneficiaryYouth: "Jeunes",
          beneficiaryYouthDesc: "Jeunes et communautés",
          beneficiaryPublic: "Public général",
          beneficiaryPublicDesc: "Impact communautaire élargi",
          beneficiaryPolicymakers: "Décideurs",
          beneficiaryPolicymakersDesc: "Décideurs éducatifs",
          beneficiaryOther: "Autre",
          beneficiaryOtherDesc: "Spécifiez les bénéficiaires personnalisés",
          otherBeneficiaryPlaceholder: "Veuillez spécifier les bénéficiaires",
          otherBeneficiaries: "Autres Bénéficiaires",
          implementationBudget: "Mise en Œuvre et Budget",
          budgetLabel_icesco: "ICESCO",
          budgetLabel_member_state: "État membre",
          budgetLabel_sponsorship: "Parrainage",
          amountPlaceholder: "0.00",
          currencyUSD: "USD",
          startDate: "Date de Début",
          endDate: "Date de Fin",
          budget: "Budget",
          frequency: "Fréquence",
          projectFrequency: "Fréquence du projet",
          frequencySelect: "Sélectionnez la fréquence",
          frequencyOneTime: "Une seule fois",
          frequencyContinuous: "Continu",
          frequencyDurationPlaceholder: "Durée (ex : 1 an, 2 ans...)",
          partnersCollaboration: "Partenaires et Collaboration",
          partners: "Partenaires",
          institutions: "Institutions",
          addPartnerPlaceholder: "Ajouter une organisation partenaire...",
          projectScopeModality: "Portée et Modalité du Projet",
          deliveryModality: "Modalité de Livraison",
          deliveryModalityHelp: "Comment le projet sera-t-il mené ?",
          geographicScope: "Portée Géographique",
          geographicScopeHelp: "Portée géographique du projet",
          conveningMethod: "Méthode de Convocation",
          conveningMethodOther: "Autre Méthode de Convocation",
          projectType: "Type de Projet",
          projectTypeHelp: "Quel est le format de votre projet ?",
          projectTypeSelect: "Sélectionnez le format de votre projet",
          typeTraining: "Programme de Formation",
          typeWorkshop: "Série d'Ateliers",
          typeConference: "Conférence/Sommet",
          typeCampaign: "Campagne de Sensibilisation",
          typeResearch: "Initiative de Recherche",
          other: "Autre",
          projectTypeOtherPlaceholder:
            "Veuillez spécifier le format de votre projet...",
          modalityPhysical: "Présentiel",
          modalityVirtual: "Virtuel",
          modalityHybrid: "Hybride",
          scopeNational: "National",
          scopeRegional: "Régional",
          scopeInternational: "International",
          monitoringEvaluation: "Suivi et Évaluation",
          milestones: "Jalons",
          expectedOutputs: "Résultats Attendus",
          kpis: "Indicateurs de Performance",
          contactInformation: "Informations de Contact",
          name: "Nom",
          email: "E-mail",
          phone: "Téléphone",
          role: "Rôle",
          supportingDocuments: "Documents de Soutien",
          comments: "Commentaires",
          optional: "(optionnel)",
          commentsHelp: "Ajoutez des commentaires ou remarques pertinents",
          commentsPlaceholder:
            "Ajoutez des commentaires ou remarques supplémentaires...",
          submitProject: "Soumettre le Projet",
          submitNewProject: "Soumettre un Nouveau Projet",
          noDescription: "Aucune description disponible",
          notSpecified: "Non spécifié",
          timeline: "Chronologie",
          expectedImpact: "Impact Attendu",
          impactDescription: "Ce projet vise à créer un impact positif dans la communauté cible grâce à des approches innovantes et des efforts collaboratifs.",
          projectInfo: "Informations du Projet",
          createdAt: "Créé le",
          lastModified: "Dernière Modification",
          source: "Source",
          noSelections: "Aucune sélection pour le moment",
          notSelected: "Non sélectionné",
          notFound: "Non trouvé",
          memberState: "État Membre",
          ok: "OK",
          memberStatesPortal: "Portail des États Membres",
          poweredBy: "Propulsé par",
          hiveFlow: "HiveFlow",
          takePartStrategy:
            "Participez à l'élaboration de la Stratégie 2026–2030 en partageant vos propositions",
          scrollDown: "Faire défiler vers le bas",
          takePartInStrategy: "Participez à la Stratégie 2026 – 2030",
          submitAndTrackProposal: "Soumettez et suivez votre proposition",
          yourSelections: "Vos Sélections",
          goal: "Objectif",
          item: "Élément",
          reviewSubmit: "Examen et Soumission",
          vectorLine: "Ligne vectorielle",
          logo: "Logo",
          "sponsorship": "Parrainage",
          "implementationBudgetDesc": "Entrez les détails de la mise en œuvre et de la budget",
          "contactRolePlaceholder": "Entrez votre rôle",
        },
      },
      ar: {
        common: {
          "saveAsPublished": "حفظ كمنشور",
          online: "عبر الإنترنت",
          offline: "دون اتصال",
          hybrid: "هجين",
          inPerson: "حضوري",
          "saving": "حفظ...",
          "saveAsDraft": "حفظ كمسودة",
          "editProject": "تعديل المشروع",
          "createNewProject": "إنشاء مشروع جديد",
          "manageAndTrackYourProjects": "إدارة وتتبع مشاريعك",
          "tryAdjustingFilters": "حاول تعديل البحث أو المرشحات",
          "noProjectsFound": "لا يوجد مشاريع بعد",
          "titreprojet": "عنوان المشروع",
          "maxPartnersLimitReached": "الحد الأقصى للشركاء (5/5)",
          "drafted": "مسودة",
          "noCrmProjectsYet": "لا يوجد مشاريع بعد",
          "noCrmProjectsDescription": "لا يوجد مشاريع بعد",
          "showing": "عرض",
          "of": "من",
          "created": "منشور",
          "published": "منشور",
          "home": "الرئيسية",
          "projectId": "ID المشروع",
          "milestoneNamePlaceholder": "أدخل اسم المعلم",
          "maxMilestonesLimitReached": "الحد الأقصى للمعالم (5/5)",
          "maxPartnersReached": "الحد الأقصى للشركاء (5/5)",
          "invalidEmailFormat": "يرجى إدخال عنود بريد إلكتروني صحيح",
          "searchProjects": "البحث في المشاريع",
          "projectHierarchy":"التسلسل الهرمي للمشروع",
          "allProjects": "جميع المشاريع",
          "viewManageProjects": "عرض وإدارة المشاريع",
          "One-time": "مرة واحدة",
          "commentsDesc": "أضف أي تعليقات أو ملاحظات ذات صلة",
          "supportingDocumentsDesc": "رفع الوثائق والملفات المتعلقة بالمشروع",
          "contactInformationDesc": "أدخل تفاصيل الشخص المسؤول عن الاتصال",
          "monitoringEvaluationDesc": "حدد المعالم الرئيسية والمقاييس الرئيسية لنجاح المشروع",
          "projectScopeModalityDesc": "حدد نوع المشروع، طريقة التنفيذ والنطاق",
          projectTitle: "عنوان المشروع",
          "partnersCollaborationDesc": "أضف المؤسسات والشركاء المتعاونين",
          siteTitle: "الإيسيسكو",
          subtitle: "بوابة الدول الأعضاء",
          "fillAllRequiredFields": "يرجى تعبئة جميع الحقول المطلوبة",
          keyPerformanceIndicatorsHelp: "حدد مؤشرات قابلة للقياس لتتبع نجاح المشروع",
          brief: "الملخص",
          contactRolePlaceholder: "أدخل دور جهة الاتصال في المشروع",
          "projects": "المشاريع",
          memberState: "الدولة العضو",
          contactFullName: "الاسم الكامل",
          contactEmail: "البريد الإلكتروني",
          contactPhone: "رقم الهاتف",
          contactFullNameHelp: "أدخل الاسم الكامل لشخص الاتصال بالمشروع",
          contactEmailHelp: "أدخل بريدًا إلكترونيًا صالحًا",
          contactPhoneHelp: "أدخل رقم هاتف صالحًا",
          contactFullNamePlaceholder: "أدخل الاسم الكامل...",
          contactEmailPlaceholder: "أدخل البريد الإلكتروني...",
          contactPhonePlaceholder: "أدخل رقم الهاتف...",
          contactRole: "الدور",
          contactRoleHelp: "ما هو دور جهة الاتصال في المشروع؟",
          contactRoleHelpPlaceholder: "أدخل الدور...",
          milestonesHelp: "حدد المعالم الرئيسية لمشروعك",
          milestonesNamePlaceholder: "أدخل اسم المعلم...",
          expectedOutputsDeliverables: "المخرجات / التسليمات المتوقعة",
          expectedOutputsDeliverablesHelp: "اشرح التسليمات الرئيسية للمشروع",
          expectedOutputsDeliverablesPlaceholder: "أدخل المخرجات المتوقعة...",
          keyPerformanceIndicators: "مؤشرات الأداء الرئيسية (KPIs)",
          keyPerformanceIndicatorsPlaceholder: "أدخل مؤشر أداء...",
          pleaseFillAllRequiredFields: "يرجى تعبئة جميع الحقول المطلوبة",
          uploadDropOrBrowse: "أسقط الملفات هنا أو انقر للاستعراض",
          uploadTypesLimit: "PDF و DOCX و الصور و PPTX حتى 10MB لكل ملف",

          title: "بوابة الدول الأعضاء في الإيسيسكو",
          description: "بوابة الدول الأعضاء في الإيسيسكو",
          login: "تسجيل الدخول",
          password: "كلمة المرور",
          signIn: "تسجيل الدخول",
          signInToAccount:
            "سجل دخولك للوصول إلى حسابك وتقديم مقترحات المشاريع",
          enterLogin: "أدخل اسم المستخدم",
          enterPassword: "أدخل كلمة المرور",
          invalidCredentials: "اسم المستخدم أو كلمة المرور غير صحيحة",
          loginFailed: "فشل تسجيل الدخول",
          profile: "الملف الشخصي",
          myProjects: "مشاريعي",
          logout: "تسجيل الخروج",
          menu: "القائمة",
          language: "اللغة",
          english: "English",
          french: "Français",
          arabic: "العربية",
          loading: "جاري التحميل...",
          error: "خطأ",
          success: "نجاح",
          cancel: "إلغاء",
          save: "حفظ",
          edit: "تعديل",
          delete: "حذف",
          confirm: "تأكيد",
          back: "رجوع",
          next: "التالي",
          previous: "السابق",
          submit: "إرسال",
          reset: "إعادة تعيين",
          search: "بحث",
          filter: "تصفية",
          sort: "ترتيب",
          view: "عرض",
          download: "تحميل",
          upload: "رفع",
          close: "إغلاق",
          open: "فتح",
          yes: "نعم",
          no: "لا",
          selectStrategicGoal: "اختر هدفك الاستراتيجي",
          selectStrategicGoalDesc:
            "اختر الهدف الذي يمثل مشروعك بشكل أفضل",
          selectStrategicPillar: "اختر محورك الاستراتيجي",
          selectStrategicPillarDesc:
            "اختر المحور الذي يتماشى مع مشروعك",
          selectService: "اختر خدمتك",
          selectServiceDesc: "اختر الخدمة التي تناسب مشروعك",
          selectStrategicSubService: "اختر خدمتك الفرعية الاستراتيجية",
          selectStrategicSubServiceDesc:
            "اختر الخدمة الفرعية التي تتماشى مع خدمتك",
          reviewProjectProposal: "راجع اقتراح مشروعك",
          reviewProjectProposalDesc: "يرجى مراجعة جميع المعلومات قبل التقديم",
          projectSubmittedSuccessfully: "تم تقديم المشروع بنجاح",
          projectSubmittedDesc: "تم استلام مقترح مشروعك وهو قيد المعالجة.",
          strategicGoal: "الهدف الاستراتيجي",
          pillar: "المحور",
          service: "الخدمة",
          subService: "الخدمة الفرعية",
          projectDetails: "تفاصيل المشروع",
          projectOverview: "نظرة عامة على المشروع",
          enterProjectDetails: "أدخل تفاصيل مشروعك",
          titleHelp: "اسم واضح ووصفي لمشروعك",
          titlePlaceholder: "أدخل عنوان المشروع",
          projectBrief: "ملخص المشروع",
          projectBriefPlaceholder: "قدّم ملخصًا موجزًا...",
          problemStatement: "بيان المشكلة",
          problemStatementPlaceholder: "صف المشكلة التي يعالجها هذا المشروع",
          rationaleImpact: "المبررات والأثر",
          "implementationBudgetDesc": "أدخل تفاصيل التنفيذ والميزانية",
          beneficiaries: "المستفيدون",
          beneficiaryStudents: "الطلاب",
          beneficiaryStudentsDesc: "المستفيدون من المجال التعليمي",
          beneficiaryTeachers: "المعلمون",
          beneficiaryTeachersDesc: "المسؤولون الحكوميون",
          beneficiaryYouth: "الشباب",
          beneficiaryYouthDesc: "الشباب والمجتمعات",
          beneficiaryPublic: "الجمهور العام",
          beneficiaryPublicDesc: "أثر على المجتمع بشكل أوسع",
          beneficiaryPolicymakers: "صناع القرار",
          beneficiaryPolicymakersDesc: "الجهات المسؤولة عن القرارات التعليمية",
          beneficiaryOther: "أخرى",
          beneficiaryOtherDesc: "حدد المستفيدين الآخرين",
          otherBeneficiaryPlaceholder: "يرجى تحديد المستفيد ",
          otherBeneficiaries: "مستفيدون آخرون",
          implementationBudget: "التنفيذ والميزانية",
          budgetLabel_icesco: "الإيسيسكو",
          budgetLabel_member_state: "الدولة العضو",
          "sponsorship": "الرعاية",
          budgetLabel_sponsorship: "الرعاية",
          amountPlaceholder: "0.00",
          currencyUSD: "دولار أمريكي",
          startDate: "تاريخ البدء",
          endDate: "تاريخ الانتهاء",
          budget: "الميزانية",
          frequency: "الوثيرة",
          projectFrequency: "وثيرة المشروع",
          frequencySelect: "اختر الوثيرة",
          frequencyOneTime: "مرة واحدة",
          frequencyContinuous: "مستمر",
          frequencyDurationPlaceholder: "المدة (مثال: سنة، سنتان...)",
          partnersCollaboration: "الشركاء والتعاون",
          partners: "الشركاء",
          institutions: "المؤسسات",
          addPartnerPlaceholder: "أضف مؤسسة شريكة...",
          projectScopeModality: "نطاق المشروع وطريقة التنفيذ",
          deliveryModality: "طريقة التنفيذ",
          deliveryModalityHelp: "كيف سيتم تنفيذ المشروع؟",
          geographicScope: "النطاق الجغرافي",
          geographicScopeHelp: "نطاق وصول المشروع",
          conveningMethod: "نوع المشروع",
          conveningMethodOther: "طريقة انعقاد أخرى",
          projectType: "نوع المشروع",
          projectTypeHelp: "ما هو شكل مشروعك؟",
          projectTypeSelect: "اختر نوع مشروعك",
          typeTraining: "برنامج تدريبي",
          typeWorkshop: "سلسلة ورش عمل",
          typeConference: "مؤتمر / قمة",
          typeCampaign: "حملة توعية",
          typeResearch: "مبادرة بحثية",
          other: "أخرى",
          projectTypeOtherPlaceholder: "يرجى تحديد شكل المشروع...",
          modalityPhysical: "حضوري",
          modalityVirtual: "افتراضي",
          modalityHybrid: "مختلط",
          scopeNational: "وطني",
          scopeRegional: "إقليمي",
          scopeInternational: "دولي",
          monitoringEvaluation: "المتابعة والتقييم",
          milestones: "المعالم",
          expectedOutputs: "المخرجات المتوقعة",
          kpis: "مؤشرات الأداء",
          contactInformation: "معلومات الاتصال",
          name: "الاسم",
          email: "البريد الإلكتروني",
          phone: "الهاتف",
          role: "الدور",
          supportingDocuments: "الوثائق الداعمة",
          comments: "ملاحظات",
          optional: "(اختياري)",
          commentsHelp: "أضف أي ملاحظات أو تعليقات إضافية",
          commentsPlaceholder: "أدخل أي ملاحظات إضافية...",
          submitProject: "إرسال المشروع",
          submitNewProject: "إرسال مشروع جديد",
          noDescription: "لا يوجد وصف متاح",
          noDocuments: "لا يوجد وثائق متاحة",
          notSpecified: "غير محدد",
          timeline: "الجدول الزمني",
          expectedImpact: "الأثر المتوقع",
          impactDescription: "يهدف هذا المشروع إلى خلق أثر إيجابي في المجتمع المستهدف من خلال نهج مبتكرة وجهود تعاونية.",
          projectInfo: "معلومات المشروع",
          createdAt: "تاريخ الإنشاء",
          lastModified: "آخر تعديل",
          source: "المصدر",
          noSelections: "لا توجد اختيارات بعد",
          notSelected: "غير محدد",
          notFound: "غير موجود",
          ok: "موافق",
          memberStatesPortal: "بوابة الدول الأعضاء",
          poweredBy: "مدعوم من",
          hiveFlow: "HiveFlow",
          takePartStrategy:
            "شارك في صياغة إستراتيجية 2026–2030 من خلال تقديم مقترحاتك.",
          scrollDown: "مرر لأسفل",
          takePartInStrategy: "شارك في استراتيجية 2026 – 2030",
          submitAndTrackProposal: "قدّم وتابع مقترح مشروعك",
          yourSelections: "اختياراتك",
          goal: "الهدف",
          item: "العنصر",
          reviewSubmit: "مراجعة وإرسال",
          vectorLine: "خط متجه",
          logo: "الشعار",
        },
      },
    },
  });
}

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({
  children,
}) => {
  const router = useRouter();
  const [currentLanguage, setCurrentLanguage] = useState("en");
  const [isRTL, setIsRTL] = useState(false);
  const [isInitialized, setIsInitialized] = useState(true);

  // Initialize language from localStorage on client side
  useEffect(() => {
    if (typeof window !== "undefined") {
      const savedLanguage = localStorage.getItem("i18nextLng") || "en";
      if (savedLanguage !== currentLanguage) {
        setCurrentLanguage(savedLanguage);
        setIsRTL(savedLanguage === "ar");
        i18n.changeLanguage(savedLanguage);
      }
      setIsInitialized(true);
    }
  }, []);

  const changeLanguage = (lang: string) => {
    i18n.changeLanguage(lang);
    setCurrentLanguage(lang);
    setIsRTL(lang === "ar");
    if (typeof window !== "undefined") {
      localStorage.setItem("i18nextLng", lang);
    }
    router.refresh();
  };

  useEffect(() => {
    setIsRTL(currentLanguage === "ar");
  }, [currentLanguage]);

  return (
    <I18nContext.Provider value={{ currentLanguage, changeLanguage, isRTL }}>
      <I18nextProvider i18n={i18n}>
        {isInitialized ? children : (
          <div className="min-h-screen flex items-center justify-center bg-white">
            <div className="flex flex-col items-center gap-4">
              <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-[#0e7378]"></div>
              <p className="text-gray-600 text-sm">Initializing...</p>
            </div>
          </div>
        )}
      </I18nextProvider>
    </I18nContext.Provider>
  );
};

export const useI18n = (): I18nContextType => {
  const context = useContext(I18nContext);
  if (!context) throw new Error("useI18n must be used within I18nProvider");
  return context;
};

